[[pods]]
== Pods

Pods are programs that can be used as a Clojure library by
babashka. Documentation is available in the
https://github.com/babashka/babashka.pods[library repo].

A list of available pods can be found
https://github.com/borkdude/babashka/blob/master/doc/projects.md#pods[here].

=== Pod registry

Since bb 0.2.6 pods can be obtained via the https://github.com/babashka/pod-registry[pod-registry].

This is an example script which uses
https://github.com/retrogradeorbit/bootleg[bootleg] as a pod to convert hiccup
to HTML.

[source,clojure]
----
#!/usr/bin/env bb

(require '[babashka.pods :as pods])

(pods/load-pod 'retrogradeorbit/bootleg "0.1.9")

(require '[pod.retrogradeorbit.bootleg.utils :as utils])

(-> [:div
     [:h1 "Using Bootleg From Babashka"]
     [:p "This is a demo"]]
    (utils/convert-to :html))
----

=== Pods in bb.edn

Since bb 0.8.0 pods can be declared in `bb.edn`:

[source,clojure]
----
{:paths ["bb"]
 :pods {retrogradeorbit/bootleg {:version "0.1.9"}}}
----

Given the file `bb/my_project/bootleg.clj`:

[source,clojure]
----
(ns my-project.bootleg
  (:require [pod.retrogradeorbit.bootleg.utils :as utils]))

(defn -main [& _args]
  (prn (-> [:div
            [:h1 "Using Bootleg From Babashka"]
            [:p "This is a demo"]]
           (utils/convert-to :html))))
----

you can then execute the main function, without calling `load-pod` manually:

[source,shell]
----
$ bb -m my-project.bootleg
"<div><h1>Using Bootleg From Babashka</h1><p>This is a demo</p></div>"
----
